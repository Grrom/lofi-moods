(this["webpackJsonplofi-moods"]=this["webpackJsonplofi-moods"]||[]).push([[0],{53:function(e,t,n){},54:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(10),i=n.n(c),r=n(36),a=n.n(r),s=(n(53),n(54),n(0)),o=n.n(s),u=n(2),l=n(11),d=n(47),f=n.n(d),j=n(6);function b(e){var t=e.mood,n=e.playMusic,c=e.isSelected,i=e.onClick;return Object(j.jsx)("div",{className:"mood ".concat(c&&"active"),onClick:Object(u.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,oe.fetchMusic(t);case 3:c=e.sent,n(c[Math.floor(Math.random()*(c.length-0))]);case 5:case"end":return e.stop()}}),e)}))),children:t})}n(66);var h=i.a.createContext(!1),v=i.a.createContext((function(e){}));function m(e){var t=e.children,n=Object(c.useState)(!1),i=Object(l.a)(n,2),r=i[0],a=i[1];return Object(j.jsx)(h.Provider,{value:r,children:Object(j.jsx)(v.Provider,{value:function(e){a((function(){return e}))},children:t})})}var O=i.a.createContext(""),p=i.a.createContext((function(e){}));function x(e){var t=e.children,n=Object(c.useState)("Hello, How are you today?"),i=Object(l.a)(n,2),r=i[0],a=i[1];return Object(j.jsx)(O.Provider,{value:r,children:Object(j.jsx)(p.Provider,{value:function(e){a((function(){return e}))},children:t})})}var g=i.a.createContext(!1),C=i.a.createContext((function(){}));function w(){return Object(c.useContext)(g)}function y(e){var t=e.children,n=Object(c.useState)(!1),i=Object(l.a)(n,2),r=i[0],a=i[1];return Object(j.jsx)(g.Provider,{value:r,children:Object(j.jsx)(C.Provider,{value:function(){a((function(e){return!e}))},children:t})})}function k(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],d=a[1],h=Object(c.useState)(""),m=Object(l.a)(h,2),O=m[0],x=m[1],g=Object(c.useState)(),C=Object(l.a)(g,2),y=C[0],k=C[1],N=Object(c.useState)("https://i.ytimg.com/vi/_ITiwPMUzho/maxresdefault.jpg"),S=Object(l.a)(N,2),P=S[0],L=S[1];Object(c.useEffect)((function(){function e(){return(e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.fetchMoods();case 2:t=e.sent,i((function(){return t}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var E=Object(c.useContext)(v),B=Object(c.useContext)(p),I=w();function T(e){k((function(){return e})),d((function(){return!0})),B("Fetching: ".concat(e.title))}return Object(j.jsx)("div",{id:"parent",style:{backgroundImage:"url(".concat(P,")")},children:Object(j.jsxs)("div",{id:"moods",children:[n.map((function(e){return Object(j.jsx)(b,{onClick:function(){return x(e)},mood:e,playMusic:T,isSelected:O===e},e)})),Object(j.jsx)(f.a,{className:"react-player",onStart:function(){B("Now Playing: "+(null===y||void 0===y?void 0:y.title)),function(e){var t=new Image;t.src="https://i.ytimg.com/vi/".concat(e,"/maxresdefault.jpg"),t.onload=function(){t.width>120?L(t.src):L("https://i.ytimg.com/vi/".concat(e,"/hqdefault.jpg"))}}(null===y||void 0===y?void 0:y.link)},onError:function(){return B("Something went wrong while fetching the music")},onBuffer:function(){return E(!0)},onBufferEnd:function(){return E(!1)},playing:s,muted:I,controls:!0,autoPlay:!0,url:"https://www.youtube.com/watch?v=".concat(null===y||void 0===y?void 0:y.link),loop:!0,config:{playerVars:{height:"144px",width:"256px",vq:"small"}}})]})})}var N=n(1),S=n(21),P=function e(t,n,c,i){Object(N.a)(this,e),this.artist=void 0,this.link=void 0,this.title=void 0,this.id=void 0,this.artist=t,this.link=n,this.title=c,this.id=i},L=n(48);n(68);function E(){return Object(j.jsx)("div",{className:"loader-container",children:Object(j.jsx)("div",{className:"mini-loader"})})}n(69);function B(){var e=Object(c.useContext)(h),t=Object(c.useContext)(O);return Object(j.jsxs)("span",{id:"bottom-indicator",children:[t,e&&Object(j.jsx)(E,{})]})}var I=n.p+"static/media/mute.d7f38ca3.svg",T=n.p+"static/media/unMute.8a278345.svg",F=n.p+"static/media/profile.d4070b52.svg";n(70);function M(e){var t=e.onClick,n=e.isLoading,c=e.text,i=e.icon,r=e.className;return Object(j.jsxs)("span",{className:"icon-button ".concat(r),title:c,onClick:function(e){return t(e)},children:[n?Object(j.jsx)(E,{}):Object(j.jsx)("img",{src:i,alt:c,className:"button-icon"}),Object(j.jsxs)("h4",{children:[c," "]})]})}n(71);var A=i.a.createContext(!1),V=i.a.createContext((function(){}));function q(){return Object(c.useContext)(A)}function D(){return Object(c.useContext)(V)}function R(e){var t=e.children,n=Object(c.useState)(!1),i=Object(l.a)(n,2),r=i[0],a=i[1];return Object(j.jsx)(A.Provider,{value:r,children:Object(j.jsx)(V.Provider,{value:function(){a((function(e){return!e}))},children:t})})}function H(){var e=Object(c.useContext)(C),t=w(),n=D(),i=q();return Object(j.jsxs)("div",{id:"controls",className:i?"box-shadow":"",children:[Object(j.jsx)(M,{onClick:function(){return e()},isLoading:!1,icon:t?I:T,className:"mute-button"}),Object(j.jsx)(M,{onClick:function(){return n()},isLoading:!1,icon:F,className:"mute-button"})]})}var G=n(26),K=n(37),U=n.n(K),Y=function e(t,n,c,i,r){Object(N.a)(this,e),this.name=void 0,this.imagesrc=void 0,this.id=void 0,this.isVerified=void 0,this.badges=void 0,this.name=t,this.imagesrc=n,this.id=c,this.isVerified=i,this.badges=r},z=i.a.createContext({}),J=i.a.createContext((function(e){}));function Q(e){var t=e.children,n=Object(c.useState)({}),i=Object(l.a)(n,2),r=i[0],a=i[1];function s(e){a(null!==e?function(){return new Y(e.displayName,e.photoURL,e.uid,e.emailVerified)}:function(){return{}})}return Object(c.useEffect)((function(){return se.auth.onAuthStateChanged((function(e){s(e)}))}),[]),Object(j.jsx)(z.Provider,{value:r,children:Object(j.jsx)(J.Provider,{value:s,children:t})})}var W=n(19),_=n.n(W);function X(e){var t=e.icon,n=e.message,c=e.duration;_.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:null!==c&&void 0!==c?c:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",_.a.stopTimer),e.addEventListener("mouseleave",_.a.resumeTimer)}}).fire({icon:t,title:n})}var Z=function e(){Object(N.a)(this,e)};Z.errorToast=function(e,t){X({icon:"error",message:e,duration:t})},Z.infoToast=function(e,t){X({icon:"info",message:e,duration:t})},Z.textInputAlert=function(e,t){_.a.fire({icon:"question",title:e,input:"text",showCancelButton:!0}).then((function(e){e.isConfirmed&&t(e.value)}))},Z.successToast=function(e,t){X({icon:"success",message:e,duration:t})},Z.successAlert=function(e){_.a.fire({icon:"success",title:e})},Z.showLoading=function(e){_.a.fire({title:e,didOpen:function(){_.a.showLoading()}})},Z.confirmDialog=function(e){var t=e.question,n=e.onConfirm,c=e.confirmButtonColor;_.a.fire({icon:"question",title:t,showCancelButton:!0,confirmButtonColor:null!==c&&void 0!==c?c:"red"}).then((function(e){e.isConfirmed&&n()}))},Z.getById=function(e){return document.getElementById(e)},Z.inputGetter=function(e){return document.getElementById(e).value},Z.getFirebaseError=function(e){var t=e.code;return t.substring(t.indexOf("/")+1,t.length)};n(91);var $=Object(c.forwardRef)((function(e,t){var n=e.type,i=e.label,r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],o=a[1];return Object(j.jsxs)("div",{className:"input-field",children:[Object(j.jsx)("label",{className:"label",htmlFor:i,children:i}),"password"===n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("input",{className:"input",type:s?"text":"password",title:i,name:i,ref:t}),Object(j.jsxs)("div",{className:"checkbox",children:[Object(j.jsx)("label",{className:"label",children:"Show Password"}),Object(j.jsx)("input",{type:"checkbox",onChange:function(e){o((function(){return e.target.checked}))}})]})]}):Object(j.jsx)("input",{className:"input",ref:t,type:n,title:i,name:i,autoComplete:"on"})]})})),ee=(n(92),n.p+"static/media/login.e2edf9d9.svg");function te(){var e=Object(c.useState)(!0),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),a=Object(l.a)(r,2),s=a[0],d=a[1],f=Object(c.createRef)(),b=Object(c.createRef)();function h(){return v.apply(this,arguments)}function v(){return(v=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==f.current.value&&""!==b.current.value){e.next=2;break}return e.abrupt("return",Z.infoToast("Fill in all the fields"));case 2:if(s){e.next=19;break}if(d(!0),e.prev=4,!n){e.next=10;break}return e.next=8,se.login(f.current.value,b.current.value);case 8:e.next=12;break;case 10:return e.next=12,se.signup(f.current.value,b.current.value);case 12:Z.successToast("Logged in successfully"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),Z.errorToast(Z.getFirebaseError(e.t0)),d(!1);case 19:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}var m=n?"Login":"Sign Up",O=s?"hover-disabled":"clickable";return Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)("h1",{className:"title",children:m}),Object(j.jsx)($,{type:"email",label:"Email",ref:f}),Object(j.jsx)($,{type:"password",label:"Password",ref:b}),n&&Object(j.jsx)("h4",{className:O,onClick:function(){s||Z.textInputAlert("Please Enter your email",function(){var e=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z.showLoading("Processing"),e.next=4,se.resetPassword(t);case 4:Z.successAlert("We've send the reset password link to your email"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Z.errorToast(Z.getFirebaseError(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},children:"Forgot password?"}),Object(j.jsx)(M,{icon:ee,isLoading:s,text:m,className:"button ".concat(s?"disabled-button":""),onClick:Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s?"":h());case 1:case"end":return e.stop()}}),e)})))}),Object(j.jsx)("h4",{onClick:function(){return s?"":i((function(e){return!e}))},className:O,children:n?"Sign up":"Already have an account? Login"})]})}var ne=n.p+"static/media/verified.1b7256e8.svg",ce=n.p+"static/media/logout.4442e419.svg";n(93);function ie(){var e,t,n=q(),i=Object(c.useContext)(z);return void 0===i.name?Object(j.jsx)(re,{}):Object(j.jsx)(U.a,{isOpen:n,ariaHideApp:!1,className:"profile-modal",overlayClassName:"overlay",children:Object(j.jsxs)("div",{className:"profile-card",children:[Object(j.jsxs)("div",{className:"user-card",children:[Object(j.jsx)("img",{src:null!==(e=i.imagesrc)&&void 0!==e?e:F,alt:"user_image",className:"user-image"}),Object(j.jsxs)("div",{className:"user-details",children:[Object(j.jsxs)("div",{className:"user-status",children:[Object(j.jsx)("h1",{className:"user-name",children:null!==(t=i.name)&&void 0!==t?t:"anonymous"}),Object(j.jsxs)("div",{className:"verified ".concat(!i.isVerified&&"unverified"),onClick:function(){i.isVerified?Z.infoToast("You are already verified"):Z.confirmDialog({question:"Send verification link to your email?",onConfirm:function(){return console.log("yes")},confirmButtonColor:"green"})},children:[Object(j.jsx)("span",{children:i.isVerified?"verified":"unverified"}),Object(j.jsx)("img",{src:ne,alt:"verified-icon",className:"verified-icon"})]})]}),Object(j.jsx)("div",{className:"user-badges",children:void 0!==i.badges?i.badges.map((function(e,t){return Object(j.jsx)("img",{className:"badge",src:e.iconsrc,alt:e.name,title:e.name},e.id+t)})):Object(j.jsx)("span",{children:"no badges yet"})})]})]}),Object(j.jsx)(M,{icon:ce,isLoading:!1,text:"Logout",className:"logout",onClick:function(e){e.preventDefault();try{Object(G.e)(se.auth),Z.successToast("Logged out successfully")}catch(e){Z.errorToast(Z.getFirebaseError(e))}}})]})})}function re(){var e=q(),t=D();return Object(j.jsx)(U.a,{isOpen:e,ariaHideApp:!1,className:"login-modal",overlayClassName:"overlay",shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,onRequestClose:function(){return t()},children:Object(j.jsx)(te,{})})}var ae=n(25),se=new function e(t){var n=this;Object(N.a)(this,e),this.auth=void 0,this.signup=function(e,t){return Object(ae.a)(n.auth,e,t)},this.login=function(e,t){return Object(ae.d)(n.auth,e,t)},this.resetPassword=function(e){return Object(ae.c)(n.auth,e)},this.auth=Object(ae.b)(t)}(Object(L.a)({apiKey:"AIzaSyDl1rXG54RQlR7FnxPct8oLKYNkurrwNMY",authDomain:"lofi-moods.firebaseapp.com",projectId:"lofi-moods",storageBucket:"lofi-moods.appspot.com",messagingSenderId:"474872717326",appId:"1:474872717326:web:50bfa76cd2dcf9164f5c5f",measurementId:"G-Q75WDCCK7V"})),oe=new function e(){var t=this;Object(N.a)(this,e),this.firestore=Object(S.c)(),this.fetchMusic=function(){var e=Object(u.a)(o.a.mark((function e(n){var c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(Object(S.a)(t.firestore,n));case 2:return c=e.sent,i=[],c.forEach((function(e){var t=e.data();i.push(new P(t.artist,t.link,t.title,e.id))})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.fetchMoods=Object(u.a)(o.a.mark((function e(){var n,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.b)(Object(S.a)(t.firestore,"moods"));case 2:return n=e.sent,c=[],n.forEach((function(e){var t=e.data();c.push(t.name)})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))};var ue=function(){return Object(j.jsx)("div",{id:"app",children:Object(j.jsx)(m,{children:Object(j.jsxs)(x,{children:[Object(j.jsx)(y,{children:Object(j.jsx)(R,{children:Object(j.jsxs)(Q,{children:[Object(j.jsx)(H,{}),Object(j.jsx)(k,{}),Object(j.jsx)(ie,{})]})})}),Object(j.jsx)(B,{})]})})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(ue,{})}),document.getElementById("root")),le()}},[[94,1,2]]]);
//# sourceMappingURL=main.3d77b070.chunk.js.map