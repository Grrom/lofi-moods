(this["webpackJsonplofi-moods"]=this["webpackJsonplofi-moods"]||[]).push([[0],{41:function(t,e,n){},42:function(t,e,n){},53:function(t,e,n){},55:function(t,e,n){},57:function(t,e,n){},59:function(t,e,n){},60:function(t,e,n){"use strict";n.r(e);var c=n(11),i=n.n(c),o=n(34),a=n.n(o),s=(n(41),n(10)),r=(n(42),n(35)),u=n.n(r),l=(n(53),n(9));function f(){return Object(l.jsx)("div",{className:"loader-container",children:Object(l.jsx)("div",{className:"mini-loader"})})}n(55);function d(t){var e=t.onClick,n=t.isLoading,c=t.text,i=t.icon,o=t.className;return Object(l.jsxs)("span",{className:"action-button ".concat(o),title:c,onClick:function(){e()},children:[n?Object(l.jsx)(f,{}):Object(l.jsx)("img",{src:i,alt:c,className:"icon"}),Object(l.jsxs)("h4",{children:[c," "]})]})}var j=n(0),h=n.n(j),m=n(3);function b(t){var e=t.mood,n=t.playMusic,c=t.isSelected,i=t.onClick;return Object(l.jsx)("div",{className:"mood ".concat(c?"active":""),onClick:Object(m.a)(h.a.mark((function t(){var c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(),t.next=3,S.fetchMusic(e);case 3:c=t.sent,n(c[Math.floor(Math.random()*(c.length-0))]);case 5:case"end":return t.stop()}}),t)}))),children:e})}n(57);var p=n.p+"static/media/mute.d7f38ca3.svg",v=n.p+"static/media/unMute.8a278345.svg";function g(t){var e=t.setBottomMessage,n=t.setIsBuffering,i=Object(c.useState)(!1),o=Object(s.a)(i,2),a=o[0],r=o[1],f=Object(c.useState)(""),j=Object(s.a)(f,2),h=j[0],m=j[1],g=Object(c.useState)(!1),O=Object(s.a)(g,2),x=O[0],w=O[1],y=Object(c.useState)(),k=Object(s.a)(y,2),S=k[0],I=k[1],M=Object(c.useState)("https://i.ytimg.com/vi/_ITiwPMUzho/maxresdefault.jpg"),B=Object(s.a)(M,2),C=B[0],N=B[1];function P(t){I((function(){return t})),r((function(){return!0}))}return Object(l.jsxs)("div",{id:"parent",style:{backgroundImage:"url(".concat(C,")")},children:[Object(l.jsx)(d,{onClick:function(){return w((function(t){return!t}))},isLoading:!1,text:"",icon:x?p:v,className:"mute-button"}),Object(l.jsxs)("div",{id:"moods",children:[["happy","lonely","relax","sleep"].map((function(t){return Object(l.jsx)(b,{onClick:function(){return m(t)},mood:t,playMusic:P,isSelected:h===t},t)})),Object(l.jsx)(u.a,{className:"react-player",onStart:function(){e("Now Playing: "+(null===S||void 0===S?void 0:S.title)),function(t){var e=new Image;e.src="https://i.ytimg.com/vi/".concat(t,"/maxresdefault.jpg"),e.onload=function(){e.width>120?N(e.src):N("https://i.ytimg.com/vi/".concat(t,"/hqdefault.jpg"))}}(null===S||void 0===S?void 0:S.link)},onError:function(){return e("Something went wrong while fetching the music")},onBuffer:function(){return n(!0)},onBufferEnd:function(){return n(!1)},playing:a,muted:x,controls:!0,autoPlay:!0,url:"https://www.youtube.com/watch?v=".concat(null===S||void 0===S?void 0:S.link),loop:!0,config:{playerVars:{height:"144px",width:"256px",vq:"small"}}})]})]})}var O=n(1),x=n(22),w=function t(e,n,c,i){Object(O.a)(this,t),this.artist=void 0,this.link=void 0,this.title=void 0,this.id=void 0,this.artist=e,this.link=n,this.title=c,this.id=i},y=n(36);n(59);function k(t){var e=t.message,n=t.isBuffering;return console.log(n),Object(l.jsxs)("span",{id:"bottom-indicator",children:[e,n?Object(l.jsx)(f,{}):""]})}Object(y.a)({apiKey:"AIzaSyDl1rXG54RQlR7FnxPct8oLKYNkurrwNMY",authDomain:"lofi-moods.firebaseapp.com",projectId:"lofi-moods",storageBucket:"lofi-moods.appspot.com",messagingSenderId:"474872717326",appId:"1:474872717326:web:50bfa76cd2dcf9164f5c5f",measurementId:"G-Q75WDCCK7V"});var S=new function t(){var e=this;Object(O.a)(this,t),this.firestore=Object(x.c)(),this.fetchMusic=function(){var t=Object(m.a)(h.a.mark((function t(n){var c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("fetching"+n),t.next=3,Object(x.b)(Object(x.a)(e.firestore,n));case 3:return c=t.sent,i=[],c.forEach((function(t){var e=t.data();i.push(new w(e.artist,e.link,e.title,t.id))})),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var I=function(){var t=Object(c.useState)(!1),e=Object(s.a)(t,2),n=e[0],i=e[1],o=Object(c.useState)("Hello, How are you today?"),a=Object(s.a)(o,2),r=a[0],u=a[1];return Object(l.jsxs)("div",{id:"app",children:[Object(l.jsx)(g,{setBottomMessage:function(t){u((function(){return t}))},setIsBuffering:function(t){console.log(t),i((function(){return t}))}}),Object(l.jsx)(k,{message:r,isBuffering:n})]})},M=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,o=e.getLCP,a=e.getTTFB;n(t),c(t),i(t),o(t),a(t)}))};a.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(I,{})}),document.getElementById("root")),M()}},[[60,1,2]]]);
//# sourceMappingURL=main.232054e9.chunk.js.map